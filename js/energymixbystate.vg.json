{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "data": {
    "url": "https://raw.githubusercontent.com/ngminh0113/FIT3179-Data-Visualisation-2/4ac7ea7416945e12d8e9751739b849a5335d17f9/data/Energy_consumption_mix_by_state_longer.csv"
  },
  "width": "container",
  "background": "#f4f4f4",
  "title": {
    "text": "Energy consumption mix by State and Territory",  
    "anchor": "middle",
    "dy": -10,
    "font": "Josefin Sans"
    },
  "transform": [
    {
      "calculate": "datum['Energy Type'] == 'Non Renewable' ? -datum.Percentage : datum.Percentage",
      "as": "signed_percentage"
    }
  ],
  "mark": "bar",
  "encoding": {
    "x": {
      "field": "signed_percentage",
      "type": "quantitative",
      "axis": {
        "title": "Percentage",
        "titleFont": "Josefin Sans",   
        "titleFontSize": 14,          
        "labelFont": "Josefin Sans",  
        "labelFontSize": 12       
        }

    },
    "y": {
      "field": "State",
      "type": "nominal",
      "axis": {
        "title": "State",
        "titleFont": "Josefin Sans",   
        "titleFontSize": 14,          
        "labelFont": "Josefin Sans",  
        "labelFontSize": 12
        }
    },
    "color": {
      "field": "Fuel Type",
      "type": "nominal",
      "scale": {
        "range": ["#a6a6a6","#e4b6a7","#ae1b30", "#66CDAA"]
      },
      "legend": {"title": "Fuel Type"}
    },
    "tooltip": [
      {"field": "State", "type": "nominal", "title": "State"},
      {"field": "Fuel Type", "type": "nominal", "title": "Fuel Type"},
      {"field": "Percentage", "type": "quantitative", "title": "Percentage"}
    ]
  },
    "view": {
      "stroke": null  
      },
    "config": {"legend": {
          "titleFont": "Josefin Sans",
          "titleFontSize": 14,
          "labelFont": "Josefin Sans",
          "labelFontSize": 12
        }
      }
}
